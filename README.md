##第6回##
#チームで1つのゲームを作り実装する
## ゲームの概要
- ゲームの内容はモグラたたきで穴から標的がランダムで出てくる。時間によって標的が穴に隠れたり、出てきたりする。マウスを 　標的に合わせてクリックすると標的をたたくことが出来る。標的を叩くことが出来るとポイントが10点加算された、標的を叩くこ　とが出来ずに隠れてしまうと10減点される。
## 操作方法
- マウスを動かして左クリックすると、標的を叩くことが出来る
## 機能
- ゲームを実装すると音楽が流れるようになっている。pygameのmixerをインポートしモグラの動作を定義しているクラスの最初の行で
mixer.init()
mixer.music.load("fig/bg_bgm.mp3")
mixer.music.play(-1)
と記述することでゲームが終了するまで音楽がながれるようになっている。最初に、mixerを初期化し次に音源のパスを記述し、次に音楽を流す回数を設定している。音楽の再生回数を-1とすることで音楽をずっとループさせることが出来る。
- 標的を叩くと剣で切られたような効果音がなる。上記の音楽と同じように記述すると効果音がなると背景の音楽が止まってしまって、二つの音を流すことが出来なかったので、標的の領域内でクリックされたかされていないかの判定している文の中で、
sound = pg.mixer.Sound("fig/叩く効果音.mp3")
sound.play()
と記述することでクリックされた瞬間だけ効果音を流すことが出来る。この書き方は、効果音を発生させたいときによく記述するやり方で最初に音源のパスを書いて、次にその音源を流すように記述することで効果音を流すことが出来る。こうすることで背景の音楽を止めずに効果音を流すことが出来る。
- このゲームはポイントが永遠に加算されて終わりがないので、ポイントが200点になったらゲームを終了させるようにした。これは、ポイントが加算されていくのを記述している文の中で
if now_point >= 100:
        self.createMoles2()
elif now_point == 200:
        exit()
        
と書くことで自分のポイントが200点になったらゲームが終了するようになっている。また、ポイントが100点を超えると、第二ステージとして標的の画像が変わる。if文の中のcreateMoles2関数で画像の定義を行っている。
- 自分のポイントが減点され続けて、-100になったら、1/2の確率で+100されて、0ポイントになる。
 a = random.randint(1,2)
        if now_point == -100:
            if a == 1:
                sound = pg.mixer.Sound("fig/ぺカリ音.mp3")
                sound.play()
                now_point += 100
                self.label.config(text=str(now_point))
            else:
                pass
この文を上記で説明した、100ポイントになったらゲームを終了するという文の下に書くことで、上記で説明したように1/2の確率で0ポイントに戻してくれる。
また、ポイントが0に戻るときにスロットのぺカリ音を入れており、ゲームの楽しさを倍増させている。